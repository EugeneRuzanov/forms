<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="foundation-5.5.2/css/foundation.min.css">
	<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="main-container">
	<form action="#" class="from-container">
		<label>
			Address
			<input type="text" name="address">
		</label>
		<label for="price">Price</label>
		<div class="row collapse">
			<div class="columns medium-2">
				<span class="prefix">&pound;</span>
			</div>
			<div class="columns medium-10">
				<input type="text" id="price" name="price">
			</div>
		</div>
		<label>
			Description
			<textarea name="description"></textarea>
		</label>

		<button type="submit" class="small">Send</button>
	</form>
	<div class="images-container">
		<div class="toolbar">
			<div class="toolbar-info">
				Total: 12
			</div>
			<div class="toolbar-actions">
				<a href="#main">Main</a>
				<a href="#publish">Publish</a>
				<a href="#delete">Delete</a>
			</div>
		</div>
		<ul class="sortable">
			<li>
				<img src="img/7ZjCqC5SKDE.jpg" alt="">
			</li>
			<li>
				<img src="img/dDKeK4zBWrU.jpg" alt="">
			</li>
			<li>
				<img src="img/EvHzy3L0oOE.jpg" alt="">
			</li>
			<li>
				<img src="img/HLIlcuLO00A.jpg" alt="">
			</li>
			<li>
				<img src="img/igy-RWh35og.jpg" alt="">
			</li>
			<li>
				<img src="img/j1wRAqqu7i0.jpg" alt="">
			</li>
			<li>
				<img src="img/jW6RIbwvqqg.jpg" alt="">
			</li>
			<li>
				<img src="img/kO67fAqQkYU.jpg" alt="">
			</li>
			<li>
				<img src="img/n7xF3V_Y0o0.jpg" alt="">
			</li>
			<li>
				<img src="img/oI3Y7cv5ld8.jpg" alt="">
			</li>
			<li>
				<img src="img/p7G4k6Q2E5c.jpg" alt="">
			</li>
			<li>
				<img src="img/S7KROslyN5w.jpg" alt="">
			</li>
			<li>
				<img src="img/SDr2lH_-b3g.jpg" alt="">
			</li>
			<li>
				<img src="img/UDu4NJ3ROcI.jpg" alt="">
			</li>
			<li>
				<img src="img/xZzzfETUHvw.jpg" alt="">
			</li>
			<li>
				<img src="img/y_9a59e659.jpg" alt="">
			</li>
			<li>
				<img src="img/y_9890d638.jpg" alt="">
			</li>
			<li>
				<img src="img/y_ac4c1c13.jpg" alt="">
			</li>
			<li>
				<img src="img/YFVZujUPIFA.jpg" alt="">
			</li>
			<li>
				<img src="img/YZUEVHicgTI.jpg" alt="">
			</li>


		</ul>
	</div>
</div>
<script src="Sortable.min.js"></script>
<script>
	(function () {
		var selected = []
			, sortableLi = document.querySelectorAll( '.sortable li')
			, toolBarInfo = document.querySelector( '.toolbar-info' )
			, clickSelect = function () {
				var indexOf;
				if ( !this.classList.contains( 'selected' ) ) {
					this.classList.add( 'selected' );
					//todo save to selected
					selected.push( this.querySelector( 'img' ).src );
				} else {
					this.classList.remove( 'selected' );
					//todo remove to selected
					indexOf = selected.indexOf( this.querySelector( 'img' ).src );
					if ( ~indexOf ) {
						selected.splice( indexOf, 1 );
					}
				}
				if ( selected.length ) {
					toolBarInfo.innerHTML = 'Total: ' + sortableLi.length + ' / Seleted: ' + selected.length;
				} else {
					toolBarInfo.innerHTML = 'Total: ' + sortableLi.length;
				}
				console.log( selected );
			};

		new Sortable( document.querySelector( '.sortable' ), {
			onUpdate : function ( e ) {
				//todo send order to server
				console.log( 'onUpdate:', e );
			}
		} );

		toolBarInfo.innerHTML = 'Total: ' + sortableLi.length;
		Array.prototype.forEach.call( sortableLi, function ( el ) {
			el.addEventListener( 'click', clickSelect );
		} );

	} )();
</script>
</body>
</html>